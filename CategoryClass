import java.util.*;
import java.lang.*;
import java.io.*;

public class Category
{
	protected String name;
	protected double[] amount;
	int num;
	Time[] time;
	
	//Constructor Method
	public Category (String name)
	{
		this.name = name;
		
		try
		{
			BufferedReader br = new BufferedReader(new FileReader(name+".txt"));
			
			num = Integer.parseInt(br.readLine());
			
			for(int i = 0;i<num;i++)
			{
				time[0] = new Time(br.readLine());
				amount[0] = Double.parseDouble(br.readLine());
			}
			br.close();
		}
		catch(IOException e)
		{
			System.out.println("category file error");
		}
		
		
	}
	
	public int searchTime(Time time)
	{
		
		for(int i = 0;i<num;i++)
		{
			if(this.time[i].equals(time))
				return i;
		}
		
		return -1;
	}
		
	//Changes the amount of money in the Category
	public boolean setAmount (Time time, double money)
	{
		int n = searchTime(time);
		if(n == -1)
			return false;
		else
		{
			this.amount[n] = money; 
			return true;
		}
		
	}
	
	public double amountMonth(Time time)
	{
		int n = searchTime(time);
		
		if(n == -1)
			return 0;
		else
		{
			return amount[n];
		}
 
	}
	
	public double amountYear(int year)
	{
		double total = 0;
		for(int i = 0;i<num;i++)
			if(year == time[i].getYear())
				total+= amount[i];
				
		return total;
	}

}//Category.class
